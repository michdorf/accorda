import{w as n}from"./index-2e263ff2.js";import{Q as c}from"./index-5db440d4.js";const e="chords-canzoni";let o=n([]);class s{constructor(){this.carica(),o.subscribe(a=>this.salva(a))}agg(a){o.update(t=>[...t,a])}trova(a){const t=c(o);if(!(a>=t.length))return t[a]}carica(){const a=localStorage.getItem(e),t=JSON.parse(a||"[]").map(r=>(r.creato=new Date(r.creato*1e3),r));o.set(t)}salva(a){const t=a.map(r=>(typeof r.creato!="number"&&(r.creato=Math.round(r.creato.getTime()/1e3)),r));localStorage.setItem(e,JSON.stringify(t))}}var u=new s;export{u as C,o as c};
